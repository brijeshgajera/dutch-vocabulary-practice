<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width,initial-scale=1" />
	<title>Dutch Vocabulary Trainer</title>
	<link rel="icon" type="image/png" href="favicon.png">
	<!-- Libraries -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
	<!-- jsPDF + AutoTable -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>

	<!-- Your app logic -->
	<script type="module" src="app.js"></script>

	<!-- link CSS -->
	<link rel="stylesheet" href="./styles.css" />
</head>

<body>
	<div class="wrap">

		<!-- Header -->
		<div class="header">
			<div style="display:flex;align-items:center;gap:12px;flex-wrap:wrap;">
				<div class="brand">Dutch Vocabulary Trainer</div>
			</div>

			<!-- Progress -->
			<div id="progress"
				style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap;">
				<div class="progress-label" id="progressText">Progress: 0%</div>
				<div style="flex:1;margin-left:12px">
					<div class="progress-bar-wrap">
						<div id="progressBar" class="progress-bar"></div>
					</div>
				</div>
			</div>
			<!-- Mode Switch -->
			<div class="mode-switch">
				<span class="mode-label">📌 Choose Method:</span>
				<label>
					<input type="radio" name="setMode" value="file" checked>
					By Set
				</label>
				<label>
					<input type="radio" name="setMode" value="context">
					By Context
				</label>
			</div>

			<div class="controls">
				<!-- Upload + Set selection (file mode) -->
				<div id="fileModeControls">
					<div class="upload-area">
						<label for="fileInput" class="file-label">
							📂 Upload Excel
							<input id="fileInput" type="file" accept=".xls,.xlsx" />
						</label>
						<div class="upload-tip">Tip: Column A = Dutch, Column B = English</div>
					</div>

					<div class="set-select-wrap">
						<label for="setSelect" class="set-label">Choose Set:</label>
						<select id="setSelect"></select>
					</div>
				</div>

				<!-- Context mode controls -->
				<div id="contextModeControls" style="display:none;">
					<div class="set-select-wrap">
						<label for="contextSelect" class="set-label">Choose Context:</label>
						<select id="contextSelect"></select>
					</div>
				</div>
			</div>

			<!-- Buttons row -->
			<div class="controls">
				<button id="resetProgress" class="btn-ghost">Reset Progress</button>
				<button id="exportProgress" class="btn-ghost">Export Progress ⬇️</button>
				<label for="importProgress" class="btn-ghost"
					style="cursor:pointer; padding: 8px 12px; border-radius: 10px;">
					Import Progress ⬆️
					<input id="importProgress" type="file" accept=".json" style="display:none;">
				</label>

				<button id="shuffleToggle" class="btn-ghost">Shuffle: Off</button>
				<label class="theme-switch"><input type="checkbox" id="themeToggle" /><span
						class="slider"></span></label>
			</div>
		</div>

		<!-- Card -->
		<div class="card">

			<!-- Tabs -->
			<div class="tab-buttons" role="tablist" aria-label="Main tabs">
				<button data-tab="study" class="active" id="tabStudy">📘 Study</button>
				<button data-tab="tiles" id="tabTiles">🧩 Tiles</button> <!-- NEW TILE TAB -->
				<button data-tab="practice" id="tabPractice">✍️ Practice</button>
				<button data-tab="practice_bookmarked" id="tabPracticeBookmarked">⭐ Practice</button>
				<button data-tab="bookmarked" id="tabBookmarked">⭐ Words</button>
				<button data-tab="search" id="tabSearch">🔍 Search</button>
				<button data-tab="game" id="tabGame" class="tab-btn">🎮 Game</button>
			</div>

			<!-- STUDY -->
			<section id="study" class="panel active" aria-labelledby="tabStudy">
				<div class="study-controls">

					<button id="playAllStudy" class="btn-audio">Play All 🔊</button>
					<button id="stopAudio" class="btn-audio stop">Stop Audio 🛑</button>
					<label class="blur-toggle">
						<input type="checkbox" id="blurDutch"> Blur Dutch
					</label>
					<label class="blur-toggle">
						<input type="checkbox" id="blurEnglish"> Blur English
					</label>
					<button id="btnExportAll" class="btn-ghost">Export Set to Pdf</button>
				</div>


				<div class="table-tools">
					<div style="display:flex;gap:8px;align-items:center;">
						<div id="setInfo" class="pill">Viewing Set 1</div>
						<div id="setSizeInfo" class="pill">0 words</div>
					</div>
					<div style="display:flex;gap:8px;align-items:center;">
						<div class="pill" id="shufflePill">Shuffle: Off</div>
					</div>
				</div>


				<div class="table-wrap" style="margin-bottom:10px;">
					<table aria-label="Study table (Dutch first)">
						<thead>
							<tr>
								<th style="width:34%" id="toggleDutch">Dutch</th>
								<th style="width:34%" id="toggleEnglish">English</th>
								<th style="width:16%">🔊</th>
								<th style="width:16%">⭐</th>
							</tr>
						</thead>
						<tbody id="pairsTable"></tbody>
					</table>
				</div>

				<div style="display:flex;justify-content:space-between;margin-top:8px;">
					<button id="prevStudy" class="btn-ghost">Previous</button>
					<button id="nextStudy" class="btn-ghost">Next</button>
				</div>
			</section>

			<!-- ===== Tiles Panel ===== -->
			<section id="tiles" class="panel">
				<div id="tilesWrap" class="tiles-wrap"></div>
			</section>

			<!-- PRACTICE -->
			<section id="practice" class="panel" aria-labelledby="tabPractice">
				<div id="quizForm"></div>

				<div class="controls-row" style="margin-top:12px;">
					<button id="submitBtn" class="btn-primary">Submit</button>
					<button id="resetInputsBtn" class="btn-ghost">Reset Inputs</button>
					<div class="pill score" id="scoreBadge">Score: 0 / 0</div>
					<div style="margin-left:auto;display:flex;gap:8px">
						<button id="prevPractice" class="btn-ghost">Previous</button>
						<button id="nextPractice" class="btn-ghost">Next</button>
					</div>
				</div>
			</section>

			<!-- PRACTICE BOOKMARKED -->
			<section id="practice_bookmarked" class="panel" aria-labelledby="tabPracticeBookmarked">
				<div id="quizFormBookmarked"></div>

				<div class="controls-row" style="margin-top:12px;">
					<button id="submitBtnBookmarked" class="btn-primary">Submit</button>
					<button id="resetInputsBtnBookmarked" class="btn-ghost">Reset Inputs</button>
					<div class="pill score" id="scoreBadgeBookmarked">Score: 0 / 0</div>
					<div style="margin-left:auto;display:flex;gap:8px">
						<button id="prevPracticeB" class="btn-ghost">Previous</button>
						<button id="nextPracticeB" class="btn-ghost">Next</button>
					</div>
				</div>
			</section>

			<!-- BOOKMARKED -->
			<section id="bookmarked" class="panel" aria-labelledby="tabBookmarked">
				<div class="table-tools">
					<div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap;">
						<div id="bookmarkIndicator" class="pill">Bookmarks: 0</div>
						<button id="btnExportBookmarks" class="btn-ghost">Export Bookmarked</button>
						<button id="clearBookmarks" class="btn-ghost">Clear Bookmarks</button>
						<button id="playAllBookmarks" class="btn-audio">Play All 🔊</button>
						<button id="stopAudioBookmarks" class="btn-audio stop">Stop Audio 🛑</button>
					</div>
				</div>

				<div class="table-wrap" style="margin-bottom:10px;">
					<table aria-label="Bookmarked words">
						<thead>
							<tr>
								<th style="width:34%">Dutch</th>
								<th style="width:34%">English</th>
								<th style="width:16%">🔊</th>
								<th style="width:16%">⭐</th>
							</tr>
						</thead>
						<tbody id="bookmarkTable"></tbody>
					</table>
				</div>
			</section>

			<!-- SEARCH -->
			<section id="search" class="panel" aria-labelledby="tabSearch">
				<div style="display:flex;gap:8px;align-items:center;flex-wrap:wrap;">
					<button id="stopAudioSearch" class="btn-audio stop">Stop Audio 🛑</button>
					<input id="searchBox" type="text" placeholder="Search all words (Dutch or English)..."
						style="width:100%;padding:10px;border-radius:10px;margin-bottom:12px;" />
				</div>
				<div class="table-wrap">
					<table aria-label="Search results">
						<thead>
							<tr>
								<th style="width:34%">Dutch</th>
								<th style="width:34%">English</th>
								<th style="width:16%">🔊</th>
								<th style="width:16%">⭐</th>
							</tr>
						</thead>
						<tbody id="searchTable"></tbody>
					</table>
				</div>
			</section>

			<!-- GAME -->
			<section id="game" class="panel" aria-labelledby="tabGame">
				<div class="game-controls">
					<span id="gameScore" class="pill">Score: 0</span>
					<span id="gameTimer" class="pill">Time: 0s</span>

					<div class="mode-select">
						<label>
							<input type="radio" name="mode" value="random">
							Random
						</label>
						<label>
							<input type="radio" name="mode" value="sequential" checked>
							Sequential
						</label>
					</div>

					<select id="levelSelect">
						<option value="3">Level 1 (6 tiles)</option>
						<option value="5">Level 2 (10 tiles)</option>
						<option value="9">Level 3 (18 tiles)</option>
						<option value="15">Level 4 (30 tiles)</option>
						<option value="25">Level 5 (50 tiles)</option>
					</select>

					<button id="startGameBtn" class="btn-primary">Start Game</button>
				</div>

				<!-- 🎮 Game instruction line -->
				<p id="gameInstruction" class="game-instruction">
					Match Dutch and English word tiles — correct pairs disappear, wrong ones briefly highlight red.
					You're playing in Sequential mode.
				</p>
				<div id="gameBoard" class="game-board"></div>
			</section>

		</div> <!-- card -->
		<!-- Footer with simple visitor badge -->
		<footer
			style="text-align:center; margin-top:40px; padding:15px 0; font-size:14px; color:#888; border-top:1px solid #ddd;">
			<div style="display:flex;flex-direction:column;align-items:center;gap:6px;">
				<!-- Visitor counter badge -->
				<img src="https://visitor-badge.laobi.icu/badge?page_id=brijeshgajera.dutch-vocabulary-practice"
					alt="Visitor Count" style="border-radius:8px; box-shadow:0 1px 4px rgba(0,0,0,0.1);" />
				<p style="margin:0;">© 2025 Dutch Vocabulary Trainer</p>
			</div>
		</footer>


	</div> <!-- wrap -->
</body>

</html>